!function(t){t.fn.qrcode=function(e){if("string"==typeof e&&(e={text:e}),t(this).attr("data-render")&&(e=t.extend({},{render:t(this).attr("data-render")},e)),t(this).attr("data-size")){var r=t(this).attr("data-size").split("x");e=t.extend({},{width:r[0],height:r[1]},e)}t(this).attr("data-typeNumber")&&(e=t.extend({},{render:t(this).attr("data-typeNumber")},e)),t(this).attr("data-correctLevel")&&(e=t.extend({},{render:t(this).attr("data-correctLevel")},e)),t(this).attr("data-background")&&(e=t.extend({},{render:t(this).attr("data-background")},e)),t(this).attr("data-foreground")&&(e=t.extend({},{render:t(this).attr("data-foreground")},e)),e=t.extend({},{render:"canvas",width:t(this).innerWidth(),height:t(this).innerHeight(),typeNumber:-1,correctLevel:"H",background:"#ffffff",foreground:"#000000"},e);var a=new QRCode(e.typeNumber,QRErrorCorrectLevel[e.correctLevel]);a.addData(e.text),a.make();var d=function(){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;for(var r=t.getContext("2d"),d=e.width/a.getModuleCount(),o=e.height/a.getModuleCount(),n=0;n<a.getModuleCount();n++)for(var i=0;i<a.getModuleCount();i++){r.fillStyle=a.isDark(n,i)?e.foreground:e.background;var h=Math.ceil((i+1)*d)-Math.floor(i*d),u=Math.ceil((n+1)*d)-Math.floor(n*d);r.fillRect(Math.round(i*d),Math.round(n*o),h,u)}return t},o=function(){for(var r=t("<table></table>").css("width",e.width+"px").css("height",e.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",e.background),d=e.width/a.getModuleCount(),o=e.height/a.getModuleCount(),n=0;n<a.getModuleCount();n++)for(var i=t("<tr></tr>").css("height",o+"px").appendTo(r),h=0;h<a.getModuleCount();h++)t("<td></td>").css("width",d+"px").css("background-color",a.isDark(n,h)?e.foreground:e.background).appendTo(i);return r};return this.each(function(){var r="canvas"==e.render?d():o();t(r).appendTo(this)})}}(jQuery);